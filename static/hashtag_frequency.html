<script>
    function searchHashtag() {
        term = $("#hashtagTerm").val();

        $("#chartNode").html("Loading Graph");
        $.getJSON("hashtag_frequency.json/" + term, function(data) {
            var chartData = data.res;
            $("#chartNode").html("");
            require([
                 // Require the basic 2d chart resource
                "dojox/charting/Chart",
                // Require the theme of our choosing
                "dojox/charting/themes/Claro",

                // Charting plugins: 
                // 	Require the Pie type of Plot 
                "dojox/charting/plot2d/Lines",
                //plot markers
                "dojox/charting/plot2d/Markers",
                //default x/y axes
                "dojox/charting/axis2d/Default",
                // Wait until the DOM is ready
                "dojo/domReady!"
            ], function(Chart, theme, PiePlot){

                // Create the chart within it's "holding" node
                var chart = new Chart("chartNode");

                // Set the theme
                chart.setTheme(theme);

                // Add the only/default plot
                chart.addPlot("default", {
                    type: "Lines",
                    markers: true
                });

                // Add axes
                chart.addAxis("x");
                chart.addAxis("y", { vertical: true, min: 0, fixLower: "major", fixUpper: "major" });
                chart.addSeries("Tweet Data",chartData);

                // Render the chart!
                chart.render();
            });
        });
    
    }
</script>

<h2>Hashtag Search</h2>
<div>
Search for information about past trends entering the trending data lists.

<input type="text" id="hashtagTerm" /><button onClick="searchHashtag();">Search</button><p>


Information about the hashtag <span id="hashtagName">None Selected</span>

<div id="chartNode" style="width:500px; height:500px"></div>

</div>
